<ui:composition 
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="template/user-template.xhtml">

	<ui:param name="title" value="Results" />

	<ui:define name="content">

	<div class="page-header">
		<h1>Results</h1>
	</div>

	<h:form>
		<table class="table table-hover" style="cursor: pointer;">
			<thead>
				<tr>
					<th>Name</th>
					<!-- <th style="width:10%">Marks</th> -->
					<th style="width:10%">Grade</th>
				</tr>
			</thead>
			<tbody>
				<ui:repeat value="#{resultsBean.results.toArray()}" var="quizResult">
				<tr onclick="location.href='result.xhtml?id=#{quizResult.id}'">
					<td>#{quizResult.name}</td>
					<!-- <td>10/60</td> -->
					<td>
						<h:outputText value="#{quizResult.grade * 100}">
							<f:convertNumber type="number" groupingUsed="true" minFractionDigits="2" pattern="#0.00"/>
						</h:outputText>
						<h:outputText value="%" />
					</td>
				</tr>
				</ui:repeat>
			</tbody>
		</table>

		<h:panelGroup rendered="#{resultsBean.count > 10}">
		<ul class="pager">
			<li class="previous #{resultsBean.firstIndex lt 1 ? 'disabled' : ''}">
				<h:panelGroup rendered="#{!(resultsBean.firstIndex lt 1)}">
					<p:commandLink action="#{resultsBean.previous()}" update="@form" value="← Older" />
				</h:panelGroup>
				<h:panelGroup rendered="#{resultsBean.firstIndex lt 1}">
					<a href="">← Older</a>
				</h:panelGroup>
			</li>
			<li class="next #{resultsBean.firstIndex + 10 ge resultsBean.count ? 'disabled' : ''}">
				<h:panelGroup rendered="#{!(resultsBean.firstIndex + 10 ge resultsBean.count)}">
					<p:commandLink action="#{resultsBean.next()}" update="@form" value="Newer →" />
				</h:panelGroup>
				<h:panelGroup rendered="#{resultsBean.firstIndex + 10 ge resultsBean.count}">
					<a href="">Newer →</a>
				</h:panelGroup>
			</li>
		</ul>
		</h:panelGroup>
	</h:form>

	</ui:define>

</ui:composition>